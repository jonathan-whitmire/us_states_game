<html>
<head>
<title>activate.fish</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #a9b7c6;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
activate.fish</font>
</center></td></tr></table>
<pre><span class="s0"># This file must be used with &quot;source &lt;venv&gt;/bin/activate.fish&quot; *from fish*</span>
<span class="s0"># (https://fishshell.com/); you cannot run it directly.</span>

<span class="s0">function deactivate  -d &quot;Exit virtual environment and return to normal shell environment&quot;</span>
    <span class="s0"># reset old environment variables</span>
    <span class="s0">if test -n &quot;$_OLD_VIRTUAL_PATH&quot;</span>
        <span class="s0">set -gx PATH $_OLD_VIRTUAL_PATH</span>
        <span class="s0">set -e _OLD_VIRTUAL_PATH</span>
    <span class="s0">end</span>
    <span class="s0">if test -n &quot;$_OLD_VIRTUAL_PYTHONHOME&quot;</span>
        <span class="s0">set -gx PYTHONHOME $_OLD_VIRTUAL_PYTHONHOME</span>
        <span class="s0">set -e _OLD_VIRTUAL_PYTHONHOME</span>
    <span class="s0">end</span>

    <span class="s0">if test -n &quot;$_OLD_FISH_PROMPT_OVERRIDE&quot;</span>
        <span class="s0">functions -e fish_prompt</span>
        <span class="s0">set -e _OLD_FISH_PROMPT_OVERRIDE</span>
        <span class="s0">functions -c _old_fish_prompt fish_prompt</span>
        <span class="s0">functions -e _old_fish_prompt</span>
    <span class="s0">end</span>

    <span class="s0">set -e VIRTUAL_ENV</span>
    <span class="s0">if test &quot;$argv[1]&quot; != &quot;nondestructive&quot;</span>
        <span class="s0"># Self-destruct!</span>
        <span class="s0">functions -e deactivate</span>
    <span class="s0">end</span>
<span class="s0">end</span>

<span class="s0"># Unset irrelevant variables.</span>
<span class="s0">deactivate nondestructive</span>

<span class="s0">set -gx VIRTUAL_ENV &quot;/Users/whitmire_jonathan/PycharmProjects/us_states_game/venv&quot;</span>

<span class="s0">set -gx _OLD_VIRTUAL_PATH $PATH</span>
<span class="s0">set -gx PATH &quot;$VIRTUAL_ENV/bin&quot; $PATH</span>

<span class="s0"># Unset PYTHONHOME if set.</span>
<span class="s0">if set -q PYTHONHOME</span>
    <span class="s0">set -gx _OLD_VIRTUAL_PYTHONHOME $PYTHONHOME</span>
    <span class="s0">set -e PYTHONHOME</span>
<span class="s0">end</span>

<span class="s0">if test -z &quot;$VIRTUAL_ENV_DISABLE_PROMPT&quot;</span>
    <span class="s0"># fish uses a function instead of an env var to generate the prompt.</span>

    <span class="s0"># Save the current fish_prompt function as the function _old_fish_prompt.</span>
    <span class="s0">functions -c fish_prompt _old_fish_prompt</span>

    <span class="s0"># With the original prompt function renamed, we can override with our own.</span>
    <span class="s0">function fish_prompt</span>
        <span class="s0"># Save the return status of the last command.</span>
        <span class="s0">set -l old_status $status</span>

        <span class="s0"># Output the venv prompt; color taken from the blue of the Python logo.</span>
        <span class="s0">printf &quot;%s%s%s&quot; (set_color 4B8BBE) &quot;(venv) &quot; (set_color normal)</span>

        <span class="s0"># Restore the return status of the previous command.</span>
        <span class="s0">echo &quot;exit $old_status&quot; | .</span>
        <span class="s0"># Output the original/&quot;old&quot; prompt.</span>
        <span class="s0">_old_fish_prompt</span>
    <span class="s0">end</span>

    <span class="s0">set -gx _OLD_FISH_PROMPT_OVERRIDE &quot;$VIRTUAL_ENV&quot;</span>
<span class="s0">end</span>
</pre>
</body>
</html>